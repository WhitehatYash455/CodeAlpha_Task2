<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Responsive Image Gallery</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: Arial, sans-serif;
}

body{
  background:#3f3f3f;
  color:#fff;
  padding:20px;
}

/* ===== FILTER BUTTONS ===== */
.filter-buttons{
  text-align:center;
  margin-bottom:20px;
}

.filter-buttons button{
  padding:8px 15px;
  margin:5px;
  border:none;
  cursor:pointer;
  background:#1a1a1a;
  color:#fff;
  border-radius:5px;
  transition:0.3s;
}

.filter-buttons button:hover,
.filter-buttons button.active{
  background:#ff9800;
}

/* ===== GALLERY GRID ===== */
.gallery{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));
  gap:15px;
}

.gallery-item{
  overflow:hidden;
  position:relative;
  cursor:pointer;
}

.gallery-item img{
  width:100%;
  height:100%;
  object-fit:cover;
  transition:transform 0.5s ease, filter 0.5s ease;
  border-radius:8px;
}

.gallery-item:hover img{
  transform:scale(1.1);
  filter:brightness(70%);
}

/* ===== LIGHTBOX ===== */
.lightbox{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(53, 53, 53, 0.9);
  display:none;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  z-index:1000;
}

.lightbox img{
  max-width:90%;
  max-height:80%;
  border-radius:10px;
  animation:fadeIn 0.5s ease;
}

@keyframes fadeIn{
  from{opacity:0;}
  to{opacity:1;}
}

.lightbox .close{
  position:absolute;
  top:20px;
  right:30px;
  font-size:30px;
  cursor:pointer;
}

.nav-btn{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  font-size:40px;
  color:#fff;
  cursor:pointer;
  padding:10px;
  user-select:none;
}

.prev{ left:20px; }
.next{ right:20px; }

/* ===== RESPONSIVE ===== */
@media(max-width:768px){
  .nav-btn{
    font-size:30px;
  }
}

</style>
</head>
<body>

<h1 style="text-align:center; margin-bottom:20px;">Image Gallery</h1>

<div class="filter-buttons">
  <button class="active" onclick="filterSelection('all')">All</button>
  <button onclick="filterSelection('nature')">Nature</button>
  <button onclick="filterSelection('city')">City</button>
  <button onclick="filterSelection('animals')">Animals</button>
</div>

<div class="gallery">
  <div class="gallery-item nature">
    <img src="https://picsum.photos/id/1018/600/400" onclick="openLightbox(this)">
  </div>
  <div class="gallery-item city">
    <img src="https://picsum.photos/id/1015/600/400" onclick="openLightbox(this)">
  </div>
  <div class="gallery-item animals">
    <img src="https://picsum.photos/id/1025/600/400" onclick="openLightbox(this)">
  </div>
  <div class="gallery-item nature">
    <img src="https://picsum.photos/id/1043/600/400" onclick="openLightbox(this)">
  </div>
  <div class="gallery-item city">
    <img src="https://picsum.photos/id/1050/600/400" onclick="openLightbox(this)">
  </div>
  <div class="gallery-item animals">
    <img src="https://picsum.photos/id/1062/600/400" onclick="openLightbox(this)">
  </div>
</div>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox">
  <span class="close" onclick="closeLightbox()">&times;</span>
  <span class="nav-btn prev" onclick="changeImage(-1)">&#10094;</span>
  <img id="lightbox-img">
  <span class="nav-btn next" onclick="changeImage(1)">&#10095;</span>
</div>

<script>

let currentIndex = 0;
let images = document.querySelectorAll(".gallery-item img");

function openLightbox(img){
  document.getElementById("lightbox").style.display = "flex";
  document.getElementById("lightbox-img").src = img.src;
  currentIndex = Array.from(images).indexOf(img);
}

function closeLightbox(){
  document.getElementById("lightbox").style.display = "none";
}

function changeImage(direction){
  currentIndex += direction;
  if(currentIndex < 0) currentIndex = images.length - 1;
  if(currentIndex >= images.length) currentIndex = 0;
  document.getElementById("lightbox-img").src = images[currentIndex].src;
}

/* FILTER FUNCTION */
function filterSelection(category){
  let items = document.querySelectorAll(".gallery-item");
  let buttons = document.querySelectorAll(".filter-buttons button");

  buttons.forEach(btn => btn.classList.remove("active"));
  event.target.classList.add("active");

  items.forEach(item => {
    if(category === "all"){
      item.style.display = "block";
    } else {
      item.style.display = item.classList.contains(category) ? "block" : "none";
    }
  });
}

</script>

</body>
</html>